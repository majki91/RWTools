<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <title>PSO</title>
    </head>
    <style>
        #container {
            display: flex;
            justify-content: center;
        }
        .title-container {
            border: 1px solid black;
        }

        h3 {
            background-color: red;
        }
    </style>
    <body onload="generateForm()">
        <div id="container">
            <select id="list"></select>
        </div>
        <button onclick="filter()">filter</button>
        <script>
            const data = [
                {
                    type: "car",
                    name: "Man 13.290",
                    fuelType: "ON",
                    fuelUsagePer100km: 38,
                    fuelUsagePerMin: 0.18,
                    fuelStartsUsagePerMin: 0.5,
                    osUsage: 0,
                    accessories: [
                        {
                            name: "Autopompa",
                            fuelType: "ON",
                            usagePerHour: 14
                        }
                    ]
                },
                {
                    type: "pump",
                    name: "Tohatsu M16/8",
                    fuelType: "PB",
                    fuelUsagePer100km: 0,
                    fuelUsagePerMin: 0.3,
                    fuelStartsUsagePerMin: 0.3,
                    osUsage: 0.0066,
                    accessories: []
                }
            ];

            function generateForm() {
                const container = document.getElementById("list");
                let cars = data.filter(car => car.type === "car");
                let pumps = data.filter(pump => pump.type === "pump");
                
                container.innerHTML = "";

                container.innerHTML += `<optgroup label='auta'>`;
                for (let i = 0; i <= cars.length; i++) {
                    container.innerHTML += `
                    <option>${cars[i].name}</option>`;
                }
                container.innerHTML += "</optgroup>";
                
                container.innerHTML += `<optgroup label='pompy'>`;
                for (let j = 0; j <= pumps.length; j++) {
                    container.innerHTML += `
                    <option>${pumps[j].name}</option>`;
                }
                container.innerHTML += "</optgroup>";
            }

            function filter() {
                let arr = data.filter(types => types.type === "pump");
                console.log(arr);
            }
        </script>
    </body>
</html>
